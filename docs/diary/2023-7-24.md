# 为网站安装ssl证书

> 之前在阿里云购买了一个轻量级应用服务器，并用fastapi写了一个网站，使用gunicorn部署，但是最近有个需求：作为微信小程序的服务器。微信小程序的服务器需要使用https服务，而默认的服务是http的，因此开始了这一段路程。

## 购买ssl证书

通过查阅资料（通常是B站或知乎等），发现https需要ssl证书，而阿里云上卖的就有，而且有免费证书可以购买，因此便填写资料买了一个（没花钱）。

买完之后需要安装（都说是安装，其实就是下载文件并拷贝到服务器里），需要手动安装，官方提供的快捷部署都是自家的产品，因此需要下载ssl证书，但是在选择证书的服务器类型的时候犯了难，我并不知道应该选择什么样的服务器类型（选择恐惧症了属于是），后来选了`其他`证书。

## 安装(使用)ssl证书
> 术语好像叫安装，但我感觉就是直接用

下载并解压后上传到服务器的根目录，要在gunicorn启动服务器的时候指定ssl证书以及key，因此使用配置文件gunicorn.py来部署，在里面添加：

```python
certfile="./xiaofei911.top.pem" #证书
keyfile="./xiaofei911.top.key" #密钥
```
并且需要将端口由80改为443（https服务的端口）
```python
bind='0.0.0.0:443'
```

## 大功告成
此时打开浏览器访问：`https://www.xiaofei911.top`，就可以啦😄